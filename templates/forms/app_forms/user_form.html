
{% load widget_tweaks %}
{% load static %} {% include 'base/head.html' %} {% include 'base/sidebar-left.html' %}
<link href="http://cdn.datatables.net/1.13.1/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css">
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>

<div class="content-wrapper">

  <!-- Inner content -->
  <div class="content-inner">
    <!-- Content area -->
    <div class="content">
      {% if status == 'edit' %}
      <div class="card">
        <div class="card-body">
            <form method='POST' enctype="multipart/form-data">
                {% csrf_token %}
                <div class="row">
                    
    
            <div class="col-lg-6" style="margin-bottom : 20px;">
                <fieldset>

                    <div class="form-group">
                        <label>{{form.username.label}}</label>
                        {% render_field form.username class="form-control mb-2" placeholder="SEND BY" %}
                    </div>

                </fieldset>
            </div>
        
            <div class="col-lg-6" style="margin-bottom : 20px;">
                <fieldset>

                    <div class="form-group">
                        <label>{{form.password1.label}}</label>
                        {% render_field form.password1 class="form-control mb-2" placeholder="AUDIENCE" %}
                    </div>

                </fieldset>
            </div>
        
            <div class="col-lg-6" style="margin-bottom : 20px;">
                <fieldset>

                    <div class="form-group">
                        <label>{{form.password2.label}}</label>
                        {% render_field form.password2 class="form-control mb-2" placeholder="MESSAGE TITLE" %}
                    </div>

                </fieldset>
            </div>
        
            <div class="col-lg-6" style="margin-bottom : 20px;">
                <fieldset>

                    <div class="form-group">
                        <label>{{form.email.label}}</label>
                        {% render_field form.email class="form-control mb-2" placeholder="MESSAGE" %}
                    </div>

                </fieldset>
            </div>
        
                </div>
                <div class="text-right">
                    {% if status == 'edit' %}
                    <button class="btn btn-success">UPDATE USER</button> {% else %}
                    <button class="btn btn-success">ADD USER</button> {% endif %}
                </div>
            </form>
        </div>
      </div>
      {% endif %}
      {% if status == 'add' %}
      <div class="card">
        <div class="card-header">
          <h5 class="card-title">USERS
            <button class="btn btn-primary sidebar-control sidebar-right-toggle" style="float: right;">Add User</button>
          </h5>
        </div>

        <table id="table">
          <thead>
            <tr>
              {% for head in header %}
              <th>{{head}}</th>
              {% endfor %}
            </tr>
          </thead>
          <tbody>
            {% for dataset in data %}
            <tr>
                <td>
                    {{dataset.id}}
                </td>
                

            <td>
                {{dataset.username}}
            </td>
        
            <td>
                {{dataset.email}}
            </td>
        
                {% comment %} <td style="padding: 5px 10px!important">
                    {% if perms.root_app.view_notification %}
                    <a href="{% url 'view_notification' dataset.id %}">
                        <button class="btn btn-success" style="margin-right: 5px;"><i class="fas fa-eye fa-xl"></i></button>
                    </a>
                    {% endif %}
                    {% if perms.root_app.change_notification %}
                    <a href="{% url 'update_notification' dataset.id %}">
                        <button class="btn btn-secondary" style="margin-right: 5px;"><i class="fas fa-edit fa-xl"></i></button>
                    </a>
                    {% endif %}
                    {% if perms.root_app.delete_notification %}
                    <a href="{% url 'delete_notification' dataset.id %}">
                        <button class="btn btn-danger" style="margin-right: 5px;"><i class="fas fa-trash fa-xl"></i></button>
                    </a>
                    {% endif %}
                </td> {% endcomment %}
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      {% endif %}
    </div>
    <!-- /content area -->
  </div>
  <!-- /inner content -->
</div>
<div
  class="sidebar sidebar-light sidebar-right sidebar-expand-xl sidebar-collapsed"
>

  <!-- Sidebar content -->
  {% if status == 'add' %}
  <div class="sidebar-content">
    <!-- Header -->
    <div class="sidebar-section sidebar-section-body d-flex align-items-center">
      {% if status == 'edit' %}
      <h5 class="mb-0">UPDATE USER</h5>
      {% else %}
      <h5 class="mb-0">ADD USER</h5>
      {% endif %}

      <div class="ml-auto">
        <button
          type="button"
          class="btn btn-outline-light text-body border-transparent btn-icon rounded-pill btn-sm sidebar-control sidebar-right-toggle d-none d-xl-inline-block"
        >
          <i class="icon-transmission"></i>
        </button>

        <button
          type="button"
          class="btn btn-outline-light text-body border-transparent btn-icon rounded-pill btn-sm sidebar-mobile-right-toggle d-xl-none"
        >
          <i class="icon-cross2"></i>
        </button>
      </div>
    </div>
    <!-- /header -->
    <!-- Actions -->
    <div class="sidebar-section">
      <div id="sidebar-actions">
        <div class="sidebar-section-body">
            <div class="card">
                <div class="card-body">
                    <form method='POST' enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="row">
                            
                          <div class="col-lg-6" style="margin-bottom : 20px;">
                              <fieldset>

                                  <div class="form-group">
                                      <label>{{form.username.label}}</label>
                                      {% render_field form.username class="form-control mb-2" placeholder="USERNAME" %}
                                  </div>

                              </fieldset>
                          </div>
                      
                          <div class="col-lg-6" style="margin-bottom : 20px;">
                              <fieldset>

                                  <div class="form-group">
                                      <label>{{form.password1.label}}</label>
                                      {% render_field form.password1 class="form-control mb-2" placeholder="PASSWORD" %}
                                  </div>

                              </fieldset>
                          </div>
                      
                          <div class="col-lg-6" style="margin-bottom : 20px;">
                              <fieldset>

                                  <div class="form-group">
                                      <label>{{form.password2.label}}</label>
                                      {% render_field form.password2 class="form-control mb-2" placeholder="CONFIRM PASSWORD" %}
                                  </div>

                              </fieldset>
                          </div>

                          <div class="col-lg-6" style="margin-bottom : 20px;">
                              <fieldset>

                                  <div class="form-group">
                                      <label>{{form.email.label}}</label>
                                      {% render_field form.email class="form-control mb-2" placeholder="CONFIRM PASSWORD" %}
                                  </div>

                              </fieldset>
                          </div>

                          <div class="col-lg-12" style="margin-bottom : 20px;">
                              <fieldset>

                                  <div class="form-group">
                                      <label>{{form.groups.label}}</label>
                                      {% render_field form.groups class="form-control mb-2" placeholder="CONFIRM PASSWORD" %}
                                  </div>

                              </fieldset>
                          </div>
        
                        </div>
                        <div class="text-right">
                            {% if status == 'edit' %}
                            <button class="btn btn-success">UPDATE USER</button> {% else %}
                            <button class="btn btn-success">ADD USER</button> {% endif %}
                        </div>
                    </form>
                </div>
            </div>
        </div>
      </div>
    </div>
  </div>
  {% endif %}
  <!-- /sidebar content -->
</div>
<script>
  $(document).ready(function() {
    var table = $('#table').DataTable({
        columnDefs: [
            { targets: [0], visible: true },
            { targets: [1], visible: true },
            { targets: [2], visible: true },
            { targets: '_all', visible: false }
        ]
    });
});

</script>

{% include 'base/foot.html' %}
            